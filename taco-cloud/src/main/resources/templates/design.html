<!-- tag::all[] -->
<!-- tag::head[] -->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
  <head>
	<meta charset="UTF-8">
    <title>Taco Cloud</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
	<!-- Boostrap 5 -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  </head>

  <body class="container mt-5">
    <h1 class="mb-4 text-center">Design your taco!</h1>
	
	<div class="text-center mb-5">
    	<img th:src="@{/images/TacoCloud.png}" class="img-fluid" alt="Taco Cloud Logo" style="max-height: 200px;" />
	</div>
	
<!-- tag::formTag[] -->
    <form method="POST" th:object="${taco}" class="mb-5">
    <!-- end::all[] -->
	<div th:if="${#fields.hasErrors('ingredients')}" class="alert alert-danger"
		 th:errors="*{ingredients}">
	</div>

    <!-- tag::all[] -->
    <div class="row">
<!-- end::formTag[] -->
<!-- end::head[] -->
      <div class="col-md-6 mb-4" id="wraps">
		<div class="card h-100">
			<div class="card-body">
<!-- tag::designateWrap[] -->
				<h5 class="card-title">Designate your wrap:</h5>
		        <div th:each="ingredient : ${wrap}" class="form-check">
				<!-- *{...}: access the field of "form backing object" in th:object -->
			        <input class="form-check-input" th:field="*{ingredients}" type="checkbox" 
			               th:value="${ingredient.id}" id="${ingredient.id}" />
				    <label class="form-check-label" th:for="${ingredient.id}" th:text="${ingredient.name}">INGREDIENT</label>
				</div>
            </div>
        </div>
      </div>
<!-- end::designateWrap[] -->

	  <div class="col-md-6 mb-4" id="proteins">
		<div class="card h-100">
			<div class="card-body">
				<h5 class="card-title">Pick your protein:</h5>
		        <div th:each="ingredient : ${protein}" class="form-check">
			        <input class="form-check-input" th:field="*{ingredients}" type="checkbox" 
			               th:value="${ingredient.id}" id="${ingredient.id}" />
				    <label class="form-check-label" th:for="${ingredient.id}" th:text="${ingredient.name}">INGREDIENT</label>
				</div>
            </div>
        </div>
      </div>
	  
	  <div class="col-md-6 mb-4" id="cheeses">
  		<div class="card h-100">
  			<div class="card-body">
  				<h5 class="card-title">Choose your cheese:</h5>
  		        <div th:each="ingredient : ${cheese}" class="form-check">
  			        <input class="form-check-input" th:field="*{ingredients}" type="checkbox" 
  			               th:value="${ingredient.id}" id="${ingredient.id}" />
  				    <label class="form-check-label" th:for="${ingredient.id}" th:text="${ingredient.name}">INGREDIENT</label>
  				</div>
            </div>
         </div>
      </div>
	  
	  <div class="col-md-6 mb-4" id="veggies">
		<div class="card h-100">
			<div class="card-body">
				<h5 class="card-title">Determine your veggies:</h5>
		        <div th:each="ingredient : ${veggies}" class="form-check">
			        <input class="form-check-input" th:field="*{ingredients}" type="checkbox" 
			               th:value="${ingredient.id}" id="${ingredient.id}" />
				    <label class="form-check-label" th:for="${ingredient.id}" th:text="${ingredient.name}">INGREDIENT</label>
				</div>
          </div>
       </div>
      </div>
	  
	  <div class="col-md-6 mb-4" id="sauces">
  		<div class="card h-100">
  			<div class="card-body">
  				<h5 class="card-title">Select your sauce:</h5>
  		        <div th:each="ingredient : ${sauce}" class="form-check">
  			        <input class="form-check-input" th:field="*{ingredients}" type="checkbox" 
  			               th:value="${ingredient.id}" id="${ingredient.id}" />
  				    <label class="form-check-label" th:for="${ingredient.id}" th:text="${ingredient.name}">INGREDIENT</label>
  				</div>
            </div>
        </div>
      </div>

      <div class="mb-4">
		<label for="tacoName" class="form-label"><strong>Name your taco creation:</strong></label>
		<input type="text"
               class="form-control"
               th:classappend="${#fields.hasErrors('name')} ? ' is-invalid' : ''"
               id="tacoName"
               th:field="*{name}"
               placeholder="Awesome Taco Name" />
        <div class="invalid-feedback" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
	  </div>
      <!-- end::all[] -->
      <!-- tag::all[] -->
	  <div class="d-flex gap-2">
		<button type="submit" class="btn btn-primary">Submit Your Taco</button>
		<a th:href="@{/}" class="btn btn-secondary">Back</a>
      </div>
<!-- tag::closeFormTag[] -->
    </form>
<!-- end::closeFormTag[] -->
  </body>
</html>
<!-- end::all[] -->
